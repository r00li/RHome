<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_15) on Fri Aug 02 17:43:50 CEST 2013 -->
<title>BroadcastListener</title>
<meta name="date" content="2013-08-02">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="BroadcastListener";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BroadcastListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../org/xbmc/httpapi/BroadcastListener.Counter.html" title="class in org.xbmc.httpapi"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/xbmc/httpapi/BroadcastListener.html" target="_top">Frames</a></li>
<li><a href="BroadcastListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.xbmc.httpapi</div>
<h2 title="Class BroadcastListener" class="title">Class BroadcastListener</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>java.util.Observable</li>
<li>
<ul class="inheritance">
<li>org.xbmc.httpapi.BroadcastListener</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">BroadcastListener</span>
extends java.util.Observable
implements java.lang.Runnable</pre>
<div class="block">Implementation of XBMC's broadcast feature. 
 
 <p>Classical observer pattern, any class implementing the observer interface
 can subscribe. On any event, the <code>update()</code>
 method is executed on the subscriber, with the event code in the
 <a href="../../../org/xbmc/httpapi/BroadcastListener.Event.html" title="class in org.xbmc.httpapi"><code>BroadcastListener.Event</code></a> object.</p>
 
 <p>We will set the broadcast port to something random in order to distinguish
 between several potential XBMC instances running concurrently. If broadcasting
 is active and a random port is already set, the current port will be reused,
 otherwise it'll be reset.</p>
 
 <p>At start, we'll make XBMC broadcast an initial packet to test if it's 
 working (different subnets will already not work, for instance). Upon 
 success, the <code>EVENT_AVAILABLE</code> event is propagated. If nothing was
 received after a timeout or an error happened, the <code>EVENT_TIMEOUT</code> 
 or the <code>EVENT_ERROR</code> event are propagated respectively.</p></div>
<dl><dt><span class="strong">Author:</span></dt>
  <dd>Team XBMC</dd>
<dt><span class="strong">See Also:</span></dt><dd><a href="http://xbmc.org/wiki/?title=Web_Server_HTTP_API#Broadcast">XBMC Wiki</a>, 
<a href="http://xbmc.org/trac/ticket/7687">Trac about missing messages</a></dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested_class_summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Nested Class Summary table, listing nested classes, and an explanation">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Class and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.Counter.html" title="class in org.xbmc.httpapi">BroadcastListener.Counter</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static class&nbsp;</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.Event.html" title="class in org.xbmc.httpapi">BroadcastListener.Event</a></strong></code>
<div class="block">The object that is returned upon</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#BCAST_ADDR">BCAST_ADDR</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#BCAST_LEVEL">BCAST_LEVEL</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#BCAST_PING">BCAST_PING</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#BUFFER_LENGTH">BUFFER_LENGTH</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#DEFAULT_PORT">DEFAULT_PORT</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_AVAILABLE">EVENT_AVAILABLE</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ERROR">EVENT_ERROR</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ON_ACTION">EVENT_ON_ACTION</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ON_MEDIA_CHANGED">EVENT_ON_MEDIA_CHANGED</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ON_PLAYBACK_ENDED">EVENT_ON_PLAYBACK_ENDED</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ON_PLAYBACK_PAUSED">EVENT_ON_PLAYBACK_PAUSED</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ON_PLAYBACK_RESUMED">EVENT_ON_PLAYBACK_RESUMED</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ON_PLAYBACK_SEEK">EVENT_ON_PLAYBACK_SEEK</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ON_PLAYBACK_SPEEDCHANGE">EVENT_ON_PLAYBACK_SPEEDCHANGE</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ON_PLAYBACK_STARTED">EVENT_ON_PLAYBACK_STARTED</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ON_PLAYBACK_STOPPED">EVENT_ON_PLAYBACK_STOPPED</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ON_PROGRESS_CHANGED">EVENT_ON_PROGRESS_CHANGED</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_ON_QUEUE_NEXT_ITEM">EVENT_ON_QUEUE_NEXT_ITEM</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_SHUTDOWN">EVENT_SHUTDOWN</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_STARTUP">EVENT_STARTUP</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_TIMEOUT">EVENT_TIMEOUT</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#EVENT_UNKNOWN">EVENT_UNKNOWN</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="../../../org/xbmc/httpapi/HttpApi.html" title="class in org.xbmc.httpapi">HttpApi</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#mHttpClient">mHttpClient</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#mIsAvailable">mIsAvailable</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#mIsListening">mIsListening</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="../../../org/xbmc/api/business/INotifiableManager.html" title="interface in org.xbmc.api.business">INotifiableManager</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#mManagerStub">mManagerStub</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#mPort">mPort</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static <a href="../../../org/xbmc/httpapi/BroadcastListener.html" title="class in org.xbmc.httpapi">BroadcastListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#sInstance">sInstance</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.Thread</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#sThread">sThread</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.util.Timer</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#sTimer">sTimer</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#TAG">TAG</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#THREAD_NAME">THREAD_NAME</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private static int</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#TIMEOUT">TIMEOUT</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private static java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#TIMER_NAME">TIMER_NAME</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier</th>
<th class="colLast" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private </code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#BroadcastListener(org.xbmc.httpapi.HttpApi)">BroadcastListener</a></strong>(<a href="../../../org/xbmc/httpapi/HttpApi.html" title="class in org.xbmc.httpapi">HttpApi</a>&nbsp;httpClient)</code>
<div class="block">It's a singleton class, so the class constructor is private.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#dispatch(int)">dispatch</a></strong>(int&nbsp;event)</code>
<div class="block">Notifies the observers</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#dispatch(int, java.lang.String[])">dispatch</a></strong>(int&nbsp;event,
        java.lang.String[]&nbsp;params)</code>
<div class="block">Notifies the observers</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="../../../org/xbmc/httpapi/BroadcastListener.html" title="class in org.xbmc.httpapi">BroadcastListener</a></code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#getInstance(org.xbmc.httpapi.HttpApi)">getInstance</a></strong>(<a href="../../../org/xbmc/httpapi/HttpApi.html" title="class in org.xbmc.httpapi">HttpApi</a>&nbsp;httpClient)</code>
<div class="block">Returns the current instance of the listener, or creates a new one if
 not available.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#handle(java.lang.String)">handle</a></strong>(java.lang.String&nbsp;response)</code>
<div class="block">Parses the received packet and sets the event id accordingly.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#init()">init</a></strong>()</code>
<div class="block">Runs a thread that:
        1.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#run()">run</a></strong>()</code>
<div class="block">Starts the thread listening for broadcast packets.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../org/xbmc/httpapi/BroadcastListener.html#stop()">stop</a></strong>()</code>
<div class="block">Stops the broadcast listener</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.util.Observable">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.util.Observable</h3>
<code>addObserver, clearChanged, countObservers, deleteObserver, deleteObservers, hasChanged, notifyObservers, notifyObservers, setChanged</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="TAG">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TAG</h4>
<pre>private static final&nbsp;java.lang.String TAG</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.TAG">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ERROR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ERROR</h4>
<pre>public static final&nbsp;int EVENT_ERROR</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ERROR">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_UNKNOWN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_UNKNOWN</h4>
<pre>public static final&nbsp;int EVENT_UNKNOWN</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_UNKNOWN">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_STARTUP">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_STARTUP</h4>
<pre>public static final&nbsp;int EVENT_STARTUP</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_STARTUP">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_SHUTDOWN">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_SHUTDOWN</h4>
<pre>public static final&nbsp;int EVENT_SHUTDOWN</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_SHUTDOWN">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ON_ACTION">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ON_ACTION</h4>
<pre>public static final&nbsp;int EVENT_ON_ACTION</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ON_ACTION">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ON_PLAYBACK_STARTED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ON_PLAYBACK_STARTED</h4>
<pre>public static final&nbsp;int EVENT_ON_PLAYBACK_STARTED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ON_PLAYBACK_STARTED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ON_PLAYBACK_ENDED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ON_PLAYBACK_ENDED</h4>
<pre>public static final&nbsp;int EVENT_ON_PLAYBACK_ENDED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ON_PLAYBACK_ENDED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ON_PLAYBACK_STOPPED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ON_PLAYBACK_STOPPED</h4>
<pre>public static final&nbsp;int EVENT_ON_PLAYBACK_STOPPED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ON_PLAYBACK_STOPPED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ON_PLAYBACK_PAUSED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ON_PLAYBACK_PAUSED</h4>
<pre>public static final&nbsp;int EVENT_ON_PLAYBACK_PAUSED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ON_PLAYBACK_PAUSED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ON_PLAYBACK_RESUMED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ON_PLAYBACK_RESUMED</h4>
<pre>public static final&nbsp;int EVENT_ON_PLAYBACK_RESUMED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ON_PLAYBACK_RESUMED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ON_PLAYBACK_SEEK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ON_PLAYBACK_SEEK</h4>
<pre>public static final&nbsp;int EVENT_ON_PLAYBACK_SEEK</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ON_PLAYBACK_SEEK">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ON_PLAYBACK_SPEEDCHANGE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ON_PLAYBACK_SPEEDCHANGE</h4>
<pre>public static final&nbsp;int EVENT_ON_PLAYBACK_SPEEDCHANGE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ON_PLAYBACK_SPEEDCHANGE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ON_QUEUE_NEXT_ITEM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ON_QUEUE_NEXT_ITEM</h4>
<pre>public static final&nbsp;int EVENT_ON_QUEUE_NEXT_ITEM</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ON_QUEUE_NEXT_ITEM">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ON_MEDIA_CHANGED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ON_MEDIA_CHANGED</h4>
<pre>public static final&nbsp;int EVENT_ON_MEDIA_CHANGED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ON_MEDIA_CHANGED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_ON_PROGRESS_CHANGED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_ON_PROGRESS_CHANGED</h4>
<pre>public static final&nbsp;int EVENT_ON_PROGRESS_CHANGED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_ON_PROGRESS_CHANGED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_AVAILABLE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_AVAILABLE</h4>
<pre>public static final&nbsp;int EVENT_AVAILABLE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_AVAILABLE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="EVENT_TIMEOUT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>EVENT_TIMEOUT</h4>
<pre>public static final&nbsp;int EVENT_TIMEOUT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.EVENT_TIMEOUT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="THREAD_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>THREAD_NAME</h4>
<pre>private static final&nbsp;java.lang.String THREAD_NAME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.THREAD_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TIMER_NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TIMER_NAME</h4>
<pre>private static final&nbsp;java.lang.String TIMER_NAME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.TIMER_NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="BCAST_PING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BCAST_PING</h4>
<pre>private static final&nbsp;java.lang.String BCAST_PING</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.BCAST_PING">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="TIMEOUT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TIMEOUT</h4>
<pre>private static final&nbsp;int TIMEOUT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.TIMEOUT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="DEFAULT_PORT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_PORT</h4>
<pre>private static final&nbsp;int DEFAULT_PORT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.DEFAULT_PORT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="BUFFER_LENGTH">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BUFFER_LENGTH</h4>
<pre>private static final&nbsp;int BUFFER_LENGTH</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.BUFFER_LENGTH">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="BCAST_LEVEL">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BCAST_LEVEL</h4>
<pre>private static final&nbsp;int BCAST_LEVEL</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.BCAST_LEVEL">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="BCAST_ADDR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>BCAST_ADDR</h4>
<pre>private static final&nbsp;java.lang.String BCAST_ADDR</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#org.xbmc.httpapi.BroadcastListener.BCAST_ADDR">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="sTimer">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sTimer</h4>
<pre>private static final&nbsp;java.util.Timer sTimer</pre>
</li>
</ul>
<a name="sInstance">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sInstance</h4>
<pre>private static&nbsp;<a href="../../../org/xbmc/httpapi/BroadcastListener.html" title="class in org.xbmc.httpapi">BroadcastListener</a> sInstance</pre>
</li>
</ul>
<a name="sThread">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sThread</h4>
<pre>private static&nbsp;java.lang.Thread sThread</pre>
</li>
</ul>
<a name="mHttpClient">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mHttpClient</h4>
<pre>private final&nbsp;<a href="../../../org/xbmc/httpapi/HttpApi.html" title="class in org.xbmc.httpapi">HttpApi</a> mHttpClient</pre>
</li>
</ul>
<a name="mIsListening">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mIsListening</h4>
<pre>private&nbsp;boolean mIsListening</pre>
</li>
</ul>
<a name="mIsAvailable">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mIsAvailable</h4>
<pre>private&nbsp;boolean mIsAvailable</pre>
</li>
</ul>
<a name="mPort">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>mPort</h4>
<pre>private&nbsp;int mPort</pre>
</li>
</ul>
<a name="mManagerStub">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>mManagerStub</h4>
<pre>private final&nbsp;<a href="../../../org/xbmc/api/business/INotifiableManager.html" title="interface in org.xbmc.api.business">INotifiableManager</a> mManagerStub</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="BroadcastListener(org.xbmc.httpapi.HttpApi)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>BroadcastListener</h4>
<pre>private&nbsp;BroadcastListener(<a href="../../../org/xbmc/httpapi/HttpApi.html" title="class in org.xbmc.httpapi">HttpApi</a>&nbsp;httpClient)</pre>
<div class="block">It's a singleton class, so the class constructor is private. Use getInstance().</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>httpClient</code> - </dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getInstance(org.xbmc.httpapi.HttpApi)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInstance</h4>
<pre>public static&nbsp;<a href="../../../org/xbmc/httpapi/BroadcastListener.html" title="class in org.xbmc.httpapi">BroadcastListener</a>&nbsp;getInstance(<a href="../../../org/xbmc/httpapi/HttpApi.html" title="class in org.xbmc.httpapi">HttpApi</a>&nbsp;httpClient)</pre>
<div class="block">Returns the current instance of the listener, or creates a new one if
 not available.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>httpClient</code> - Used for HTTP control API.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Current instance</dd></dl>
</li>
</ul>
<a name="init()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>init</h4>
<pre>private&nbsp;void&nbsp;init()</pre>
<div class="block">Runs a thread that:
        1. Checks if XBMC's broadcast port needs to be reset
        2. Sets XBMC's broadcast port if necessary
        3. Starts the listener thread 
        4. Sends a test broadcast via HTTP API
        5. Loops until the listener thread received the test broadcast or 
           timeout occurs. Dispatches timeout event in that case (test broadcast
           reception is handelled by the listener thread)</div>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Starts the thread listening for broadcast packets.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">Stops the broadcast listener</div>
</li>
</ul>
<a name="dispatch(int, java.lang.String[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dispatch</h4>
<pre>private&nbsp;void&nbsp;dispatch(int&nbsp;event,
            java.lang.String[]&nbsp;params)</pre>
<div class="block">Notifies the observers</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - </dd><dd><code>params</code> - </dd></dl>
</li>
</ul>
<a name="dispatch(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dispatch</h4>
<pre>private&nbsp;void&nbsp;dispatch(int&nbsp;event)</pre>
<div class="block">Notifies the observers</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>event</code> - </dd></dl>
</li>
</ul>
<a name="handle(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>handle</h4>
<pre>private&nbsp;void&nbsp;handle(java.lang.String&nbsp;response)</pre>
<div class="block">Parses the received packet and sets the event id accordingly. Also the 
 timer thread providing virtual clock events is managed in here.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>response</code> - Stripped response string</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/BroadcastListener.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev Class</li>
<li><a href="../../../org/xbmc/httpapi/BroadcastListener.Counter.html" title="class in org.xbmc.httpapi"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?org/xbmc/httpapi/BroadcastListener.html" target="_top">Frames</a></li>
<li><a href="BroadcastListener.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested_class_summary">Nested</a>&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
